# Notes on building the Windows port using Mingw, if you're not me, and
# not trying to build the Windows port and dependencies from source, you
# can safely ignore this file

Create Windows VM (with at least 4 cores, 8GB of memory, and 100GB of disk,
    because Windows is insanely bloated)
Install MSYS2

pacman -Sy
pacman -Su

# Done on separate lines because there is a solid chance of any
# random pacman run failing

pacman -S base-devel
pacman -S mingw-w64
pacman -S libraries
pacman -S git
pacman -S python   #this is python3
git clone https://github.com/Alexpux/MINGW-packages.git

# Dependencies:
python3
pyqt5
numpy
qt5 (bundled with pyqt5?)
fftw
portaudio
portmidi (from where?  Or should I allow building without MIDI support?
    Or http://stackoverflow.com/questions/18156694/trying-to-build-a-portmidi-example-in-mingw)
libvorbis
libsndfile

for dependency in dependencies:
  cd dependency
  makepkg-mingw -Cfs
  cd ..

# Pacman and makepkg both break all the fucking time for no reason,
# however, they're still better than Visual Studio

# UNTESTED:
# packages all install to /mingw32 and /mingw64 , so generate stripped
# down versions of those directories for packaging with NSIS?
# TODO:  Are the directories relocatable?
# TODO:  PKGBUILD for MusiKernel?

